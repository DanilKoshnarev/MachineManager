# Machine Management System

## Описание
Machine Management System - это система для управления физическими и виртуальными машинами, построенная на языке Clojure с использованием принципов Domain-Driven Design (DDD). Система включает модули для управления машинами, мониторинга, репликации и шардирования в нескольких базах данных.

## Структура проекта
Проект разделен на несколько слоев для улучшения читаемости и поддерживаемости кода:

- **Domain**: Основная бизнес-логика и правила.
- **Application**: Интерфейсы, юзкейсы и реализации для работы с данными.
- **Infrastructure**: Реализация деталей инфраструктуры, таких как репозитории данных, шардирование и репликация.
- **Presentation**: Взаимодействие с пользователем.

## Структура каталогов
```plaintext
machine-management/
├── src/
│   ├── domain/
│   │   ├── entities/
│   │   │   ├── physical_machine.clj
│   │   │   ├── virtual_machine.clj
│   │   ├── repositories/
│   │   │   ├── machine_repository.clj
│   ├── services/
│   │   │   ├── machine_service.clj
│   └── use_cases/
│   │       ├── manage_machines.clj
│   │       └── monitor_machines.clj
├── infrastructure/
│   ├── persistence/
│   │   ├── database/
│   │   │   ├── machine_repository_impl.clj
│   ├── sharding/
│   │   │   ├── shard_manager.clj
│   ├── replication/
│   │   │   ├── replica_manager.clj
│   └── config.clj
├── app/
│   ├── controllers/
│   │   ├── machine_controller.clj
├── main.clj
├── project.clj
├── README.md
└── LICENSE
```

## Установка
1. Клонируйте репозиторий:
    ```bash
    git clone <URL репозитория>
    ```
2. Перейдите в каталог проекта:
    ```bash
    cd machine-management
    ```
3. Установите необходимые зависимости:
    ```bash
    lein deps
    ```

## Запуск

Для запуска проекта выполните команду:
```bash
lein run
```

## Описание компонентов

### Domain

- **physical_machine.clj**: Класс сущности физической машины, содержащий информацию о сервере.
- **virtual_machine.clj**: Класс сущности виртуальной машины, содержащий информацию о виртуальном сервере.
- **machine_repository.clj**: Интерфейс репозитория машин, содержащий методы для сохранения, поиска и удаления машин.

### Application

- **manage_machines.clj**: Юзкейс для управления машинами, включающий создание, просмотр и удаление машин.
- **monitor_machines.clj**: Юзкейс для мониторинга состояния машин.

### Infrastructure

- **machine_repository_impl.clj**: Реализация репозитория машин с использованием базы данных.
- **shard_manager.clj**: Менеджер для управления шардами, содержащий логику определения шарда по ID и получения всех шардов.
- **replica_manager.clj**: Менеджер для управления репликами, содержащий логику определения реплики по ID и получения всех реплик.
- **config.clj**: Конфигурация подключения к базе данных.

### Presentation

- **machine_controller.clj**: Контроллер для управления машинами, содержащий обработчики для создания, просмотра и удаления машин.

### main.clj

Основной файл проекта, содержащий точку входа. Включает в себя создание физических и виртуальных машин, а также их просмотр и удаление.

## Лицензия

Этот проект лицензирован под лицензией MIT. Для получения дополнительной информации смотрите файл LICENSE.

